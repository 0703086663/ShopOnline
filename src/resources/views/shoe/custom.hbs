
<div class="wrapper cart-container container-custom">
<div class="wrap wrap-shoe-custom">
  <section class="transparent">
    <div class="container-shoe-custom">
    <div class="main-img-custom">
        <div class="img-custom-1 open-img-custom-1">
                <img class="af1-custom-images" src="/images/shoetype1.png" alt="">
                <div class="main-swooth-custom d-none"></div>
                <div class="main-midsole-custom d-none"></div>
                <div class="main-middle-custom d-none"></div>
                <div class="main-head-custom d-none"></div>
                <div class="main-back-custom d-none"></div>
                <div class="main-backward-custom d-none"></div>
        </div>
      </div>
        <div class="diversion-shoe card-carousel">
            <div id="swooth" class="my-card"><img src="/images/smooth.png" alt=""></div>
            <div id="midsole" class="my-card"><img src="/images/midsole.png" alt=""></div>
            <div id="middle" class="my-card"><img src="/images/middle.png" alt=""></div>
            <div id="head" class="my-card"><img src="/images/head.png" alt=""></div>
            <div id="back" class="my-card"><img src="/images/back.png" alt=""></div>
            <div id="backward" class="my-card"><img src="/images/backward.png" alt=""></div>
        </div>
        <div class="custom-color-board">
            <form method="POST" action="/shoe/store-custom">
            {{!-- Opacity --}}
                <input class="color-list swooth-custom d-block" style="opacity: 1, height:50px" name="swoothColor" id="color-swooth" type="color">
                <input class="color-list midsole-custom d-block" name="midsoleColor" id="color-midsole" type="color">
                <input class="color-list middle-custom d-block" name="middleColor" id="color-middle" type="color">
                <input class="color-list head-custom d-block" name="headColor" id="color-head" type="color">
                <input class="color-list back-custom d-block" name="backColor" id="color-back" type="color">
                <input class="color-list backward-custom d-block" name="backwardColor" id="color-backward" type="color">
                <div class="btn-of-custom mt-4">
                <button class="cancle-realtime btn btn-danger">Cancle</button>
                <button class="cancle-reload btn btn-secondary">Undo</button>
                <button class="btn btn-success btn-save">Save</button>
                </div>
            </form>
        </div>
    </section>
   </div>
</div>

<script>


    $('.cancle-reload').click(()=>{
        location.reload();
    })
  
    $('.cancle-realtime').click(()=>{
       $('.img-custom-1 div').removeAttr('style').hide()
    })

    $('.btn-save').click(() => {
        if($('.main-swooth-custom').hasClass('d-none')){
        $('.swooth-custom').remove();
    } 
        if($('.main-midsole-custom').hasClass('d-none')){
        $('.midsole-custom').remove();
    }
        if($('.main-middle-custom').hasClass('d-none')){
        $('.middle-custom').remove();
    }
        if($('.main-head-custom').hasClass('d-none')){
        $('.head-custom').remove();
    }
        if($('.main-back-custom').hasClass('d-none')){
        $('.back-custom').remove();
    }
        if($('.main-backward-custom').hasClass('d-none')){
        $('.backward-custom').remove();
    }
    })
    
    $('.diversion-shoe div').on('click', function(){
     var shoePart = $(this).attr('id')
     $('.main-' + shoePart + '-custom').attr('class', 'main-' + shoePart + '-custom').show()
     $('input[name ="' + shoePart + 'Color"]').trigger('click')
     $('#color-' + shoePart).on('input', function(){
        $('.main-' + shoePart + '-custom').attr('active','true').attr('style', 'background-color:' + $(this).val()).removeClass('d-none')
     })
    })

    $('.diversion-shoe div').mouseover( function() {
        var shoePart = $(this).attr('id')
        var isEditable = $('.main-' + shoePart + '-custom').attr('active')
        $('.main-' + shoePart + '-custom').attr('class', 'main-' + shoePart + '-custom').show()
        $(this).mouseout(()=>{
            var ele = $('.main-' + shoePart + '-custom').attr('class', 'main-' + shoePart + '-custom')
            if(isEditable == 'true') ele.show()
            else ele.addClass('d-none')
        })
    })


    
    // CARD CARSOUSEL 
 

    $('.my-card:nth-child(1)').addClass('active');
    $('.my-card:nth-child(1)').prevAll().addClass('prev');
    $('.my-card:nth-child(1)').nextAll().addClass('next');


    $('.my-card').mouseover(function() {
      $(this).addClass('active');
      $(this).removeClass('prev next');
      $(this).siblings().removeClass('active prev next')
      $(this).prevAll().addClass('prev')
      $(this).nextAll().addClass('next')

    });


    // Keyboard nav
    {{!-- $('html body').keydown(function(e) {
    if (e.keyCode == 37) { // left
        $('.active').prev().trigger('click');
    }
    else if (e.keyCode == 39) { // right
        $('.active').next().trigger('click');
    }
    }); --}}
</script>


